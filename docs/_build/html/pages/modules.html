<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>3. Modules &mdash; py-lmd 1.0.1 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="2. Using Segmented Images" href="segmentation_loader.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> py-lmd
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">1. Quick Start</a><ul>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#installation-from-github">1.1. Installation from Github</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#generating-shapes">1.2. Generating Shapes</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#using-the-py-lmd-tools">1.3. Using the py-lmd tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#numbers-and-letters">1.4. Numbers and Letters</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#text">1.5. Text</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="segmentation_loader.html">2. Using Segmented Images</a><ul>
<li class="toctree-l2"><a class="reference internal" href="segmentation_loader.html#background">2.1. Background</a></li>
<li class="toctree-l2"><a class="reference internal" href="segmentation_loader.html#different-coordinate-systems">2.2. Different Coordinate Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="segmentation_loader.html#getting-started-with-the-segmentationloader">2.3. Getting started with the SegmentationLoader</a></li>
<li class="toctree-l2"><a class="reference internal" href="segmentation_loader.html#overview-of-configuration">2.4. Overview of Configuration</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">3. Modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#lmd-lib">3.1. lmd.lib</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#collection">3.1.1. Collection</a></li>
<li class="toctree-l3"><a class="reference internal" href="#shape">3.1.2. Shape</a></li>
<li class="toctree-l3"><a class="reference internal" href="#segmentationloader">3.1.3. SegmentationLoader</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-lmd.tools">3.2. lmd.tools</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">py-lmd</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li><span class="section-number">3. </span>Modules</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/pages/modules.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="modules">
<h1><span class="section-number">3. </span>Modules<a class="headerlink" href="#modules" title="Permalink to this headline"></a></h1>
<div class="section" id="lmd-lib">
<h2><span class="section-number">3.1. </span>lmd.lib<a class="headerlink" href="#lmd-lib" title="Permalink to this headline"></a></h2>
<div class="section" id="collection">
<h3><span class="section-number">3.1.1. </span>Collection<a class="headerlink" href="#collection" title="Permalink to this headline"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="lmd.lib.Collection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">lmd.lib.</span></span><span class="sig-name descname"><span class="pre">Collection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">calibration_points</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lmd.lib.Collection" title="Permalink to this definition"></a></dt>
<dd><p>Class which is used for creating shape collections for the Leica LMD6 &amp; 7. Contains a coordinate system defined by calibration points and a collection of various shapes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>calibration_points</strong> – Calibration coordinates in the form of <span class="math notranslate nohighlight">\((3, 2)\)</span>.</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="lmd.lib.Collection.shapes">
<span class="sig-name descname"><span class="pre">shapes</span></span><a class="headerlink" href="#lmd.lib.Collection.shapes" title="Permalink to this definition"></a></dt>
<dd><p>Contains all shapes which are part of the collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>List[<a class="reference internal" href="#lmd.lib.Shape" title="lmd.lib.Shape">Shape</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="lmd.lib.Collection.calibration_points">
<span class="sig-name descname"><span class="pre">calibration_points</span></span><a class="headerlink" href="#lmd.lib.Collection.calibration_points" title="Permalink to this definition"></a></dt>
<dd><p>Calibration coordinates in the form of <span class="math notranslate nohighlight">\((3, 2)\)</span>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Optional[np.ndarray]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="lmd.lib.Collection.orientation_transform">
<span class="sig-name descname"><span class="pre">orientation_transform</span></span><a class="headerlink" href="#lmd.lib.Collection.orientation_transform" title="Permalink to this definition"></a></dt>
<dd><p>defines transformations performed on the provided coordinate system prior to export as XML. This orientation_transform is always applied to shapes when there is no individual orienation_transform provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lmd.lib.Collection.add_shape">
<span class="sig-name descname"><span class="pre">add_shape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#lmd.lib.Shape" title="lmd.lib.Shape"><span class="pre">lmd.lib.Shape</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lmd.lib.Collection.add_shape" title="Permalink to this definition"></a></dt>
<dd><p>Add a new shape to the collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shape</strong> – Shape which should be added.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lmd.lib.Collection.join">
<span class="sig-name descname"><span class="pre">join</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#lmd.lib.Collection" title="lmd.lib.Collection"><span class="pre">lmd.lib.Collection</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lmd.lib.Collection.join" title="Permalink to this definition"></a></dt>
<dd><p>Join the collection with the shapes of a different collection. The calibration markers of the current collection are kept. Please keep in mind that coordinate systems and calibration points must be compatible for correct joining of collections.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>collection</strong> – Collection which should be joined with the current collection object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>returns self</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lmd.lib.Collection.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_location</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lmd.lib.Collection.load" title="Permalink to this definition"></a></dt>
<dd><p>Can be used to load a shape file from XML. Both, XMLs generated with py-lmd and the Leica software can be used.
:param file_location: File path pointing to the XML file.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lmd.lib.Collection.new_shape">
<span class="sig-name descname"><span class="pre">new_shape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">points</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">well</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lmd.lib.Collection.new_shape" title="Permalink to this definition"></a></dt>
<dd><p>Directly create a new Shape in the current collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>points</strong> – Array or list of lists in the shape of <cite>(N,2)</cite>. Contains the points of the polygon forming a shape.</p></li>
<li><p><strong>well</strong> – Well in which to sort the shape after cutting. For example A1, A2 or B3.</p></li>
<li><p><strong>name</strong> – Name of the shape.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lmd.lib.Collection.plot">
<span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">calibration</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'line'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fig_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">(5,</span> <span class="pre">5)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">apply_orientation_transform</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">apply_scale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lmd.lib.Collection.plot" title="Permalink to this definition"></a></dt>
<dd><p>This function can be used to plot all shapes of the corresponding shape collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>calibration</strong> – Controls wether the calibration points should be plotted as crosshairs. Deactivating the crosshairs will result in the size of the canvas adapting to the shapes. Can be especially usefull for small shapes or debugging.</p></li>
<li><p><strong>fig_size</strong> – Defaults to <span class="math notranslate nohighlight">\((10, 10)\)</span> Controls the size of the matplotlib figure. See <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.figure.html#matplotlib-pyplot-figure">matplotlib documentation</a> for more information.</p></li>
<li><p><strong>apply_orientation_transform</strong> – Define wether the orientation transform should be applied before plotting.</p></li>
<li><p><strong>(</strong><strong>Optional</strong><strong>[</strong><strong>str</strong><strong>]</strong> (<em>save_name</em>) – None): Specify a filename  for saving the generated figure. By default <cite>None</cite> is provided which will not save a figure.</p></li>
<li><p><strong>default</strong> – None): Specify a filename  for saving the generated figure. By default <cite>None</cite> is provided which will not save a figure.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lmd.lib.Collection.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_location</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'utf-8'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lmd.lib.Collection.save" title="Permalink to this definition"></a></dt>
<dd><p>Can be used to save the shape collection as XML file.</p>
<p>file_location: File path pointing to the XML file.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lmd.lib.Collection.stats">
<span class="sig-name descname"><span class="pre">stats</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lmd.lib.Collection.stats" title="Permalink to this definition"></a></dt>
<dd><p>Print statistics about the Collection in the form of:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">=====</span> <span class="n">Collection</span> <span class="n">Stats</span> <span class="o">=====</span>
<span class="n">Number</span> <span class="n">of</span> <span class="n">shapes</span><span class="p">:</span> <span class="mi">208</span>
<span class="n">Number</span> <span class="n">of</span> <span class="n">vertices</span><span class="p">:</span> <span class="mi">126</span><span class="p">,</span><span class="mi">812</span>
<span class="o">============================</span>
<span class="n">Mean</span> <span class="n">vertices</span><span class="p">:</span> <span class="mf">609.67</span>
<span class="n">Min</span> <span class="n">vertices</span><span class="p">:</span> <span class="mf">220.00</span>
<span class="mi">5</span><span class="o">%</span> <span class="n">percentile</span> <span class="n">vertices</span><span class="p">:</span> <span class="mf">380.20</span>
<span class="n">Median</span> <span class="n">vertices</span><span class="p">:</span> <span class="mf">594.00</span>
<span class="mi">95</span><span class="o">%</span> <span class="n">percentile</span> <span class="n">vertices</span><span class="p">:</span> <span class="mf">893.20</span>
<span class="n">Max</span> <span class="n">vertices</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span><span class="mf">300.00</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lmd.lib.Collection.svg_to_lmd">
<span class="sig-name descname"><span class="pre">svg_to_lmd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_location</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0,</span> <span class="pre">0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">divisor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multiplier</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">60</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation_matrix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">numpy.eye</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orientation_transform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lmd.lib.Collection.svg_to_lmd" title="Permalink to this definition"></a></dt>
<dd><p>Can be used to save the shape collection as XML file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_location</strong> – File path pointing to the SVG file.</p></li>
<li><p><strong>orientation_transform</strong> – Will superseed the global transform of the Collection.</p></li>
<li><p><strong>rotation_matrix</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="shape">
<h3><span class="section-number">3.1.2. </span>Shape<a class="headerlink" href="#shape" title="Permalink to this headline"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="lmd.lib.Shape">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">lmd.lib.</span></span><span class="sig-name descname"><span class="pre">Shape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">points</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">well</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orientation_transform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lmd.lib.Shape" title="Permalink to this definition"></a></dt>
<dd><p>Class for creating a single shape object.</p>
<dl class="py method">
<dt class="sig sig-object py" id="lmd.lib.Shape.from_xml">
<span class="sig-name descname"><span class="pre">from_xml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lmd.lib.Shape.from_xml" title="Permalink to this definition"></a></dt>
<dd><p>Load a shape from an XML shape node. Used internally for reading LMD generated XML files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>root</strong> – XML input node.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lmd.lib.Shape.to_xml">
<span class="sig-name descname"><span class="pre">to_xml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orientation_transform</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lmd.lib.Shape.to_xml" title="Permalink to this definition"></a></dt>
<dd><p>Generate XML shape node needed internally for export.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> – Sequential identifier of the shape as used in the LMD XML format.</p></li>
<li><p><strong>orientation_transform</strong> (<em>np.array</em>) – Pass orientation_transform which is used if no local orientation transform is set.</p></li>
<li><p><strong>scale</strong> (<em>int</em>) – Scalling factor used to enable higher decimal precision.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the Shape has a custom orientation_transform defined, the custom orientation_transform is applied at this point. If not, the oritenation_transform passed by the parent Collection is used. This highlights an important difference between the Shape and Collection class. The Collection will always has an orientation transform defined and will use <cite>np.eye(2)</cite> by default. The Shape object can have a orientation_transform but can also be set to <cite>None</cite> to use the Collection value.</p>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="segmentationloader">
<h3><span class="section-number">3.1.3. </span>SegmentationLoader<a class="headerlink" href="#segmentationloader" title="Permalink to this headline"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="lmd.lib.SegmentationLoader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">lmd.lib.</span></span><span class="sig-name descname"><span class="pre">SegmentationLoader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lmd.lib.SegmentationLoader" title="Permalink to this definition"></a></dt>
<dd><p>Select single cells from a segmentation and generate cutting data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> (<em>dict</em>) – Dict containing configuration parameters. See Note for further explanation.</p></li>
<li><p><strong>cell_sets</strong> (<em>list</em><em>(</em><em>dict</em><em>)</em>) – List of dictionaries containing the sets of cells which should be sorted into a single well.</p></li>
<li><p><strong>calibration_marker</strong> (<em>np.array</em>) – Array of size ‘(3,2)’ containing the calibration marker coordinates in the ‘(row, column)’ format.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="kn">from</span> <span class="nn">lmd.lib</span> <span class="kn">import</span> <span class="n">SegmentationLoader</span>

<span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;segmentation_cytosol.tiff&#39;</span><span class="p">)</span>
<span class="n">segmentation</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">im</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">uint32</span><span class="p">)</span>

<span class="n">all_classes</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">segmentation</span><span class="p">)</span>

<span class="n">cell_sets</span> <span class="o">=</span> <span class="p">[{</span><span class="s2">&quot;classes&quot;</span><span class="p">:</span> <span class="n">all_classes</span><span class="p">,</span> <span class="s2">&quot;well&quot;</span><span class="p">:</span> <span class="s2">&quot;A1&quot;</span><span class="p">}]</span>

<span class="n">calibration_points</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1000</span><span class="p">],[</span><span class="mi">1000</span><span class="p">,</span><span class="mi">1000</span><span class="p">]])</span>

<span class="n">loader_config</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;orientation_transform&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]])</span>
<span class="p">}</span>

<span class="n">sl</span> <span class="o">=</span> <span class="n">SegmentationLoader</span><span class="p">(</span><span class="n">config</span> <span class="o">=</span> <span class="n">loader_config</span><span class="p">)</span>
<span class="n">shape_collection</span> <span class="o">=</span> <span class="n">sl</span><span class="p">(</span><span class="n">segmentation</span><span class="p">,</span>
                    <span class="n">cell_sets</span><span class="p">,</span>
                    <span class="n">calibration_points</span><span class="p">)</span>

<span class="n">shape_collection</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">fig_size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
</pre></div>
</div>
<img alt="../_images/segmentation1.png" src="../_images/segmentation1.png" />
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Basic explanation of the parameters in the config dict:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># dilation of the cutting mask in pixel before intersecting shapes in a selection group are merged</span><span class="w"></span>
<span class="nt">shape_dilation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span><span class="w"></span>

<span class="c1"># erosion of the cutting mask in pixel before intersecting shapes in a selection group are merged</span><span class="w"></span>
<span class="nt">shape_erosion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span><span class="w"></span>

<span class="c1"># Cutting masks are transformed by binary dilation and erosion</span><span class="w"></span>
<span class="nt">binary_smoothing</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span><span class="w"></span>

<span class="c1"># number of datapoints which are averaged for smoothing</span><span class="w"></span>
<span class="c1"># the resoltion of datapoints is twice as high as the resolution of pixel</span><span class="w"></span>
<span class="nt">convolution_smoothing</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">15</span><span class="w"></span>

<span class="c1"># fold reduction of datapoints for compression</span><span class="w"></span>
<span class="nt">poly_compression_factor</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>

<span class="c1"># Optimization of the cutting path inbetween shapes</span><span class="w"></span>
<span class="c1"># optimized paths improve the cutting time and the microscopes focus</span><span class="w"></span>
<span class="c1"># valid options are [&quot;none&quot;, &quot;hilbert&quot;, &quot;greedy&quot;]</span><span class="w"></span>
<span class="nt">path_optimization</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;hilbert&quot;</span><span class="w"></span>

<span class="c1"># Paramter required for hilbert curve based path optimization.</span><span class="w"></span>
<span class="c1"># Defines the order of the hilbert curve used, which needs to be tuned with the total cutting area.</span><span class="w"></span>
<span class="c1"># For areas of 1 x 1 mm we recommend at least p = 4,  for whole slides we recommend p = 7.</span><span class="w"></span>
<span class="nt">hilbert_p</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">7</span><span class="w"></span>

<span class="c1"># Parameter required for greedy path optimization.</span><span class="w"></span>
<span class="c1"># Instead of a global distance matrix, the k nearest neighbours are approximated.</span><span class="w"></span>
<span class="c1"># The optimization problem is then greedily solved for the known set of nearest neighbours until the first set of neighbours is exhausted.</span><span class="w"></span>
<span class="c1"># Established edges are then removed and the nearest neighbour approximation is recursivly repeated.</span><span class="w"></span>
<span class="nt">greedy_k</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">20</span><span class="w"></span>

<span class="c1"># Overlapping shapes are merged based on a nearest neighbour heuristic.</span><span class="w"></span>
<span class="c1"># All selected shapes closer than distance_heuristic pixel are checked for overlap.</span><span class="w"></span>
<span class="nt">distance_heuristic</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">300</span><span class="w"></span>
</pre></div>
</div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="lmd.lib.SegmentationLoader.check_cell_set_sanity">
<span class="sig-name descname"><span class="pre">check_cell_set_sanity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cell_set</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lmd.lib.SegmentationLoader.check_cell_set_sanity" title="Permalink to this definition"></a></dt>
<dd><p>Check if cell_set dictionary contains the right keys</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lmd.lib.SegmentationLoader.load_classes">
<span class="sig-name descname"><span class="pre">load_classes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cell_set</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lmd.lib.SegmentationLoader.load_classes" title="Permalink to this definition"></a></dt>
<dd><p>Identify cell class definition and load classes</p>
<p>Identify if cell classes are provided as list of integers or as path pointing to a csv file.
Depending on the type of the cell set, the classes are loaded and returned for selection.</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-lmd.tools">
<span id="lmd-tools"></span><h2><span class="section-number">3.2. </span>lmd.tools<a class="headerlink" href="#module-lmd.tools" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="lmd.tools.ellipse">
<span class="sig-prename descclassname"><span class="pre">lmd.tools.</span></span><span class="sig-name descname"><span class="pre">ellipse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">major_axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minor_axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">polygon_resolution</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lmd.tools.ellipse" title="Permalink to this definition"></a></dt>
<dd><p>Get a lmd.lib.Shape for ellipse of choosen dimensions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>major_axis</strong> (<em>float</em>) – Major axis of the ellipse. The major axis is defined from the center to the perimeter and therefore half the diameter. The major axis is placed along the x-axis before rotation.</p></li>
<li><p><strong>minor_axis</strong> (<em>float</em>) – Minor axis of the ellipse. The minor axis is defined from the center to the perimeter and therefore half the diameter. The minor axis is placed along the y-axis before rotation.</p></li>
<li><p><strong>offset</strong> (<em>np.ndarray</em>) – Location of the ellipse based on the center given in the form of <cite>(x, y)</cite>. Default value: np.array((0, 0))</p></li>
<li><p><strong>rotation</strong> (<em>float</em>) – Clockwise rotation in radian.</p></li>
<li><p><strong>polygon_resolution</strong> (<em>float</em>) – The polygon resolution defines how far the vertices should be spaced on average. A polygon_resolution of 10 will place a vertex on average every ten units.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Shape which contains the ellipse.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#lmd.lib.Shape" title="lmd.lib.Shape">lmd.lib.Shape</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">lmd.lib</span> <span class="kn">import</span> <span class="n">Collection</span><span class="p">,</span> <span class="n">Shape</span>
<span class="kn">from</span> <span class="nn">lmd</span> <span class="kn">import</span> <span class="n">tools</span>

<span class="n">calibration</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">],</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">]])</span>
<span class="n">my_first_collection</span> <span class="o">=</span> <span class="n">Collection</span><span class="p">(</span><span class="n">calibration_points</span> <span class="o">=</span> <span class="n">calibration</span><span class="p">)</span>

<span class="n">my_ellipse</span> <span class="o">=</span> <span class="n">tools</span><span class="o">.</span><span class="n">ellipse</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">offset</span> <span class="o">=</span> <span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">50</span><span class="p">),</span> <span class="n">polygon_resolution</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="n">rotation</span> <span class="o">=</span> <span class="mf">1.8</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span>
<span class="n">my_first_collection</span><span class="o">.</span><span class="n">add_shape</span><span class="p">(</span><span class="n">my_ellipse</span><span class="p">)</span>
<span class="n">my_first_collection</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">calibration</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/tools.ellipse.example.png"><img alt="../_images/tools.ellipse.example.png" src="../_images/tools.ellipse.example.png" style="width: 360.0px; height: 360.0px;" /></a>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lmd.tools.get_rotation_matrix">
<span class="sig-prename descclassname"><span class="pre">lmd.tools.</span></span><span class="sig-name descname"><span class="pre">get_rotation_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">angle</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lmd.tools.get_rotation_matrix" title="Permalink to this definition"></a></dt>
<dd><p>Returns a rotation matrix for clockwise rotation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>angle</strong> (<em>float</em>) – Rotation in radian.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Matrix in the shape of (2, 2).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lmd.tools.glyph">
<span class="sig-prename descclassname"><span class="pre">lmd.tools.</span></span><span class="sig-name descname"><span class="pre">glyph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">glyph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">numpy.array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">divisor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multiplier</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lmd.tools.glyph" title="Permalink to this definition"></a></dt>
<dd><p>Get an uncalibrated lmd.lib.Collection for a glyph of interest.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>glyph</strong> (<em>str</em>) – Single glyph as string.</p></li>
<li><p><strong>divisor</strong> (<em>int</em>) – Parameter which determines the resolution when creating a polygon from a SVG. A larger divisor will lead to fewer datapoints for the glyph. Default value: 10</p></li>
<li><p><strong>offset</strong> (<em>np.ndarray</em>) – Location of the glyph based on the top left corner. Default value: np.array((0, 0))</p></li>
<li><p><strong>multiplier</strong> (<em>float</em>) – Scaling parameter for defining the size of the glyph. The default height of a glyph is 10 units. Default value: 1</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Uncalibrated Collection which contains the Shapes for the glyph.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#lmd.lib.Collection" title="lmd.lib.Collection">lmd.lib.Collection</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lmd.tools.glyph_path">
<span class="sig-prename descclassname"><span class="pre">lmd.tools.</span></span><span class="sig-name descname"><span class="pre">glyph_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">glyph</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lmd.tools.glyph_path" title="Permalink to this definition"></a></dt>
<dd><p>Returns the path for a glyph of interest. Raises a NotImplementedError if an unknown glyph is requested.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>glyph</strong> (<em>str</em>) – Single glyph as string.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Path for the glyph.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lmd.tools.rectangle">
<span class="sig-prename descclassname"><span class="pre">lmd.tools.</span></span><span class="sig-name descname"><span class="pre">rectangle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">width</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation_offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">0)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lmd.tools.rectangle" title="Permalink to this definition"></a></dt>
<dd><p>Get a lmd.lib.Shape for rectangle of choosen dimensions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>width</strong> (<em>float</em>) – Width of the rectangle.</p></li>
<li><p><strong>offset</strong> (<em>np.ndarray</em>) – Location of the rectangle based on the center. Default value: np.array((0, 0))</p></li>
<li><p><strong>rotation</strong> (<em>float</em>) – Rotation in radian.</p></li>
<li><p><strong>rotation_offset</strong> (<em>np.ndarray</em>) – Location of the center of rotation relative to the center of the rectangle. Default value: np.array((0, 0))</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Shape which contains the rectangle.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#lmd.lib.Shape" title="lmd.lib.Shape">lmd.lib.Shape</a></p>
</dd>
</dl>
<p>Example:</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lmd.tools.text">
<span class="sig-prename descclassname"><span class="pre">lmd.tools.</span></span><span class="sig-name descname"><span class="pre">text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">numpy.array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">divisor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multiplier</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lmd.tools.text" title="Permalink to this definition"></a></dt>
<dd><p>Get an uncalibrated lmd.lib.Collection for a text.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> (<em>str</em>) – Text as string.</p></li>
<li><p><strong>divisor</strong> (<em>int</em>) – Parameter which determines the resolution when creating a polygon from a SVG. A larger divisor will lead to fewer datapoints for the glyph. Default value: 10</p></li>
<li><p><strong>offset</strong> (<em>np.ndarray</em>) – Location of the text based on the top left corner. Default value: np.array((0, 0))</p></li>
<li><p><strong>multiplier</strong> (<em>float</em>) – Scaling parameter for defining the size of the text. The default height of a glyph is 10 units. Default value: 1</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Uncalibrated Collection which contains the Shapes for the text.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#lmd.lib.Collection" title="lmd.lib.Collection">lmd.lib.Collection</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">lmd.lib</span> <span class="kn">import</span> <span class="n">Collection</span><span class="p">,</span> <span class="n">Shape</span>
<span class="kn">from</span> <span class="nn">lmd</span> <span class="kn">import</span> <span class="n">tools</span>

<span class="n">calibration</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">],</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">50</span><span class="p">]])</span>
<span class="n">my_first_collection</span> <span class="o">=</span> <span class="n">Collection</span><span class="p">(</span><span class="n">calibration_points</span> <span class="o">=</span> <span class="n">calibration</span><span class="p">)</span>

<span class="n">identifier_1</span> <span class="o">=</span> <span class="n">tools</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="s1">&#39;0456_B2&#39;</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">]),</span> <span class="n">rotation</span> <span class="o">=</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">4</span><span class="p">)</span>
<span class="n">my_first_collection</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">identifier_1</span><span class="p">)</span>
<span class="n">my_first_collection</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">calibration</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/fig10.png"><img alt="../_images/fig10.png" src="../_images/fig10.png" style="width: 360.0px; height: 360.0px;" /></a>
</dd></dl>

</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="segmentation_loader.html" class="btn btn-neutral float-left" title="2. Using Segmented Images" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Georg Wallmann, Sophia Mädler and Niklas Schmacke.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>