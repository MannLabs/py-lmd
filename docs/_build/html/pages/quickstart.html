

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>1. Quick Start &mdash; py-lmd 1.0.2 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="2. Using Segmented Images" href="segmentation_loader.html" />
    <link rel="prev" title="Overview" href="../index.html" />
    <link href="../_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> py-lmd
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">1. Quick Start</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installation-from-github">1.1. Installation from Github</a></li>
<li class="toctree-l2"><a class="reference internal" href="#generating-shapes">1.2. Generating Shapes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-the-py-lmd-tools">1.3. Using the py-lmd tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="#numbers-and-letters">1.4. Numbers and Letters</a></li>
<li class="toctree-l2"><a class="reference internal" href="#text">1.5. Text</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="segmentation_loader.html">2. Using Segmented Images</a><ul>
<li class="toctree-l2"><a class="reference internal" href="segmentation_loader.html#background">2.1. Background</a></li>
<li class="toctree-l2"><a class="reference internal" href="segmentation_loader.html#different-coordinate-systems">2.2. Different Coordinate Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="segmentation_loader.html#getting-started-with-the-segmentationloader">2.3. Getting started with the SegmentationLoader</a></li>
<li class="toctree-l2"><a class="reference internal" href="segmentation_loader.html#overview-of-configuration">2.4. Overview of Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="segmentation_loader.html#processing-order">2.5. Processing Order</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">3. Modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="modules.html#lmd-lib">3.1. lmd.lib</a><ul>
<li class="toctree-l3"><a class="reference internal" href="modules.html#collection">3.1.1. Collection</a></li>
<li class="toctree-l3"><a class="reference internal" href="modules.html#shape">3.1.2. Shape</a></li>
<li class="toctree-l3"><a class="reference internal" href="modules.html#segmentationloader">3.1.3. SegmentationLoader</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="modules.html#module-lmd.tools">3.2. lmd.tools</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">py-lmd</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li><span class="section-number">1. </span>Quick Start</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/pages/quickstart.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="quick-start">
<h1><span class="section-number">1. </span>Quick Start<a class="headerlink" href="#quick-start" title="Permalink to this headline">¶</a></h1>
<div class="section" id="installation-from-github">
<h2><span class="section-number">1.1. </span>Installation from Github<a class="headerlink" href="#installation-from-github" title="Permalink to this headline">¶</a></h2>
<p>To install the py-lmd library clone the Github repository and use pip to install the library in your current environment. It is recommended to use the library with a Conda environment. Please make sure that the package is installed editable like described. Otherwise static glyph files might not be available.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">HornungLab</span><span class="o">/</span><span class="n">py</span><span class="o">-</span><span class="n">lmd</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">e</span> <span class="o">.</span>
</pre></div>
</div>
<p>Once installed the modules can be loaded as following:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">lmd.lib</span> <span class="kn">import</span> <span class="n">Collection</span><span class="p">,</span> <span class="n">Shape</span>
</pre></div>
</div>
</div>
<div class="section" id="generating-shapes">
<h2><span class="section-number">1.2. </span>Generating Shapes<a class="headerlink" href="#generating-shapes" title="Permalink to this headline">¶</a></h2>
<p>As first example we will create a cutting data for a rectangle and visualize it. First we need to think of a calibration points for our coordinate system.  The calibration points are specified as Numpy array and should have the shape <cite>(3, 2)</cite>. When calibrating the file on the Leica LMD after loading the file, the order of selecting the calibration points is the same as the order of points set here. If no other orientation transform has been specified,  the calibration points are defined in the <cite>(x, y)</cite> coordinate system. More on the usage of different coordinate systems can be found under XXX.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">lmd.lib</span> <span class="kn">import</span> <span class="n">Collection</span><span class="p">,</span> <span class="n">Shape</span>

<span class="n">calibration</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
                        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">],</span>
                        <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">]])</span>
</pre></div>
</div>
<p>With these calibration coordinates we can create our <a class="reference internal" href="modules.html#lmd.lib.Collection" title="lmd.lib.Collection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Collection</span></code></a> object. The <a class="reference internal" href="modules.html#lmd.lib.Collection" title="lmd.lib.Collection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Collection</span></code></a> is the base object for creating cutting data and holds a list of <a class="reference internal" href="modules.html#lmd.lib.Shape" title="lmd.lib.Shape"><code class="xref py py-class docutils literal notranslate"><span class="pre">Shape</span></code></a> objects. Furthermore, it allows to read and write the Leica LMD XML format and handles the coordinate system.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">my_first_collection</span> <span class="o">=</span> <span class="n">Collection</span><span class="p">(</span><span class="n">calibration_points</span> <span class="o">=</span> <span class="n">calibration</span><span class="p">)</span>
</pre></div>
</div>
<p>We can then create our first rectangle by using the <a class="reference internal" href="modules.html#lmd.lib.Shape" title="lmd.lib.Shape"><code class="xref py py-class docutils literal notranslate"><span class="pre">Shape</span></code></a> object and passing it to our collection by using the <a class="reference internal" href="modules.html#lmd.lib.Collection.add_shape" title="lmd.lib.Collection.add_shape"><code class="xref py py-class docutils literal notranslate"><span class="pre">add_shape</span></code></a> method. For creating the Shape object we need to pass the vertices as Numpy array. List of vertices should always be closed with the last vertex equaling the first one.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">rectangle_coordinates</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">],</span>
                                  <span class="p">[</span><span class="mi">40</span><span class="p">,</span><span class="mi">10</span><span class="p">],</span>
                                  <span class="p">[</span><span class="mi">40</span><span class="p">,</span><span class="mi">40</span><span class="p">],</span>
                                  <span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">40</span><span class="p">],</span>
                                  <span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">]])</span>
<span class="n">rectangle</span> <span class="o">=</span> <span class="n">Shape</span><span class="p">(</span><span class="n">rectangle_coordinates</span><span class="p">)</span>
<span class="n">my_first_collection</span><span class="o">.</span><span class="n">add_shape</span><span class="p">(</span><span class="n">rectangle</span><span class="p">)</span>
</pre></div>
</div>
<p>We can visualize our collection with the <a class="reference internal" href="modules.html#lmd.lib.Collection.plot" title="lmd.lib.Collection.plot"><code class="xref py py-class docutils literal notranslate"><span class="pre">plot</span></code></a> method. Using the <cite>calibration = True</cite> parameter will include the calibration coordinates in the plot.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">my_first_collection</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">calibration</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/fig1.png"><img alt="../_images/fig1.png" src="../_images/fig1.png" style="width: 360.0px; height: 360.0px;" /></a>
<p>We can generate a second shape in form of a triangle. This time we will be using the <a class="reference internal" href="modules.html#lmd.lib.Collection.new_shape" title="lmd.lib.Collection.new_shape"><code class="xref py py-class docutils literal notranslate"><span class="pre">new_shape</span></code></a> method of the collection object.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">triangle_coordinates</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">10</span><span class="p">,</span><span class="mi">70</span><span class="p">],</span> <span class="p">[</span><span class="mi">40</span><span class="p">,</span><span class="mi">70</span><span class="p">],</span> <span class="p">[</span><span class="mi">40</span><span class="p">,</span><span class="mi">100</span><span class="p">],</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">70</span><span class="p">]])</span>
<span class="n">my_first_collection</span><span class="o">.</span><span class="n">new_shape</span><span class="p">(</span><span class="n">triangle_coordinates</span><span class="p">)</span>

<span class="n">my_first_collection</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">calibration</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/fig2.png"><img alt="../_images/fig2.png" src="../_images/fig2.png" style="width: 360.0px; height: 360.0px;" /></a>
<p>We can then export and save our collection of shapes into xml cutting data.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">my_first_collection</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;first_collection.xml&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;</span>
<span class="nt">&lt;ImageData&gt;</span>
  <span class="nt">&lt;GlobalCoordinates&gt;</span>1<span class="nt">&lt;/GlobalCoordinates&gt;</span>
  <span class="nt">&lt;X_CalibrationPoint_1&gt;</span>0<span class="nt">&lt;/X_CalibrationPoint_1&gt;</span>
  <span class="nt">&lt;Y_CalibrationPoint_1&gt;</span>0<span class="nt">&lt;/Y_CalibrationPoint_1&gt;</span>
  <span class="nt">&lt;X_CalibrationPoint_2&gt;</span>0<span class="nt">&lt;/X_CalibrationPoint_2&gt;</span>
  <span class="nt">&lt;Y_CalibrationPoint_2&gt;</span>10000<span class="nt">&lt;/Y_CalibrationPoint_2&gt;</span>
  <span class="nt">&lt;X_CalibrationPoint_3&gt;</span>5000<span class="nt">&lt;/X_CalibrationPoint_3&gt;</span>
  <span class="nt">&lt;Y_CalibrationPoint_3&gt;</span>5000<span class="nt">&lt;/Y_CalibrationPoint_3&gt;</span>
  <span class="nt">&lt;ShapeCount&gt;</span>2<span class="nt">&lt;/ShapeCount&gt;</span>
  <span class="nt">&lt;Shape_1&gt;</span>
    <span class="nt">&lt;PointCount&gt;</span>5<span class="nt">&lt;/PointCount&gt;</span>
    <span class="nt">&lt;X_1&gt;</span>1000<span class="nt">&lt;/X_1&gt;</span>
    <span class="nt">&lt;Y_1&gt;</span>1000<span class="nt">&lt;/Y_1&gt;</span>
    <span class="nt">&lt;X_2&gt;</span>4000<span class="nt">&lt;/X_2&gt;</span>
    <span class="nt">&lt;Y_2&gt;</span>1000<span class="nt">&lt;/Y_2&gt;</span>
    <span class="nt">&lt;X_3&gt;</span>4000<span class="nt">&lt;/X_3&gt;</span>
    <span class="nt">&lt;Y_3&gt;</span>4000<span class="nt">&lt;/Y_3&gt;</span>
    <span class="nt">&lt;X_4&gt;</span>1000<span class="nt">&lt;/X_4&gt;</span>
    <span class="nt">&lt;Y_4&gt;</span>4000<span class="nt">&lt;/Y_4&gt;</span>
    <span class="nt">&lt;X_5&gt;</span>1000<span class="nt">&lt;/X_5&gt;</span>
    <span class="nt">&lt;Y_5&gt;</span>1000<span class="nt">&lt;/Y_5&gt;</span>
  <span class="nt">&lt;/Shape_1&gt;</span>
  <span class="nt">&lt;Shape_2&gt;</span>
    <span class="nt">&lt;PointCount&gt;</span>4<span class="nt">&lt;/PointCount&gt;</span>
    <span class="nt">&lt;X_1&gt;</span>1000<span class="nt">&lt;/X_1&gt;</span>
    <span class="nt">&lt;Y_1&gt;</span>7000<span class="nt">&lt;/Y_1&gt;</span>
    <span class="nt">&lt;X_2&gt;</span>4000<span class="nt">&lt;/X_2&gt;</span>
    <span class="nt">&lt;Y_2&gt;</span>7000<span class="nt">&lt;/Y_2&gt;</span>
    <span class="nt">&lt;X_3&gt;</span>4000<span class="nt">&lt;/X_3&gt;</span>
    <span class="nt">&lt;Y_3&gt;</span>10000<span class="nt">&lt;/Y_3&gt;</span>
    <span class="nt">&lt;X_4&gt;</span>1000<span class="nt">&lt;/X_4&gt;</span>
    <span class="nt">&lt;Y_4&gt;</span>7000<span class="nt">&lt;/Y_4&gt;</span>
  <span class="nt">&lt;/Shape_2&gt;</span>
<span class="nt">&lt;/ImageData&gt;</span>
</pre></div>
</div>
<p>Looking at the generated xml output we can see the calibration points and different shapes. Furthermore, we see that the coordinate system has been scaled by a linear scaling factor. As all points are defined as integers scaling by a linear factor allows to use decimal numbers as coordinates.</p>
</div>
<div class="section" id="using-the-py-lmd-tools">
<h2><span class="section-number">1.3. </span>Using the py-lmd tools<a class="headerlink" href="#using-the-py-lmd-tools" title="Permalink to this headline">¶</a></h2>
<p>A lot uf usefull functionality is included in the tools module of the py-lmd package. We will first use the rectangle functionality to create rectangle shapes fast.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">lmd.lib</span> <span class="kn">import</span> <span class="n">Collection</span><span class="p">,</span> <span class="n">Shape</span>
<span class="kn">from</span> <span class="nn">lmd</span> <span class="kn">import</span> <span class="n">tools</span>

<span class="n">calibration</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">],</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">]])</span>
<span class="n">my_first_collection</span> <span class="o">=</span> <span class="n">Collection</span><span class="p">(</span><span class="n">calibration_points</span> <span class="o">=</span> <span class="n">calibration</span><span class="p">)</span>
</pre></div>
</div>
<p>After initiating the coordinate system we can use the <a class="reference internal" href="modules.html#lmd.tools.rectangle" title="lmd.tools.rectangle"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rectangle()</span></code></a> helper function to create a <a class="reference internal" href="modules.html#lmd.lib.Shape" title="lmd.lib.Shape"><code class="xref py py-class docutils literal notranslate"><span class="pre">Shape</span></code></a> object with a rectangle with specified size and position.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">my_square</span> <span class="o">=</span> <span class="n">tools</span><span class="o">.</span><span class="n">rectangle</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">my_first_collection</span><span class="o">.</span><span class="n">add_shape</span><span class="p">(</span><span class="n">my_square</span><span class="p">)</span>
<span class="n">my_first_collection</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">calibration</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/fig3.png"><img alt="../_images/fig3.png" src="../_images/fig3.png" style="width: 360.0px; height: 360.0px;" /></a>
<p>We can further specify an angle of rotation.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">my_square</span> <span class="o">=</span> <span class="n">tools</span><span class="o">.</span><span class="n">rectangle</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span><span class="mi">30</span><span class="p">),</span> <span class="n">rotation</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">4</span><span class="p">)</span>
<span class="n">my_first_collection</span><span class="o">.</span><span class="n">add_shape</span><span class="p">(</span><span class="n">my_square</span><span class="p">)</span>
<span class="n">my_first_collection</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">calibration</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/fig4.png"><img alt="../_images/fig4.png" src="../_images/fig4.png" style="width: 360.0px; height: 360.0px;" /></a>
</div>
<div class="section" id="numbers-and-letters">
<h2><span class="section-number">1.4. </span>Numbers and Letters<a class="headerlink" href="#numbers-and-letters" title="Permalink to this headline">¶</a></h2>
<p>The py-lmd tools offer a limited support for numbers and some capital letters. The following glyphs are available: <cite>ABCDEFGHI0123456789-_</cite>. They were included in the package as they allow for the development of more consistent calibration and sample indexing.In screens with multiple slides, samples can be unambiguously identified from imaged data.</p>
<p>We will first use <code class="xref py py-meth docutils literal notranslate"><span class="pre">glyphs()</span></code> to load single glyphs. The glyphs are included in the py-lmd package as SVG files and are loaded by the <a class="reference internal" href="modules.html#lmd.lib.Collection.svg_to_lmd" title="lmd.lib.Collection.svg_to_lmd"><code class="xref py py-meth docutils literal notranslate"><span class="pre">svg_to_lmd()</span></code></a> into an uncalibrated <a class="reference internal" href="modules.html#lmd.lib.Collection" title="lmd.lib.Collection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Collection</span></code></a>. This uncalibrated collection is returned and can be joined with a calibrated collection with the <a class="reference internal" href="modules.html#lmd.lib.Collection.join" title="lmd.lib.Collection.join"><code class="xref py py-meth docutils literal notranslate"><span class="pre">join()</span></code></a> function.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">lmd.lib</span> <span class="kn">import</span> <span class="n">Collection</span><span class="p">,</span> <span class="n">Shape</span>
<span class="kn">from</span> <span class="nn">lmd</span> <span class="kn">import</span> <span class="n">tools</span>

<span class="n">calibration</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">],</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">]])</span>
<span class="n">my_first_collection</span> <span class="o">=</span> <span class="n">Collection</span><span class="p">(</span><span class="n">calibration_points</span> <span class="o">=</span> <span class="n">calibration</span><span class="p">)</span>

<span class="n">digit_1</span> <span class="o">=</span> <span class="n">tools</span><span class="o">.</span><span class="n">glyph</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">my_first_collection</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">digit_1</span><span class="p">)</span>
<span class="n">my_first_collection</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">calibration</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/fig7.png"><img alt="../_images/fig7.png" src="../_images/fig7.png" style="width: 360.0px; height: 360.0px;" /></a>
<p>By default glyphs and text have a height of ten units and are located by the top left corner. We can use the <cite>offset</cite> and <cite>multiplier</cite> parameters to change the size and position.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">digit_2</span> <span class="o">=</span> <span class="n">tools</span><span class="o">.</span><span class="n">glyph</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">offset</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">80</span><span class="p">),</span> <span class="n">multiplier</span> <span class="o">=</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">my_first_collection</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">digit_2</span><span class="p">)</span>
<span class="n">my_first_collection</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">calibration</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/fig8.png"><img alt="../_images/fig8.png" src="../_images/fig8.png" style="width: 360.0px; height: 360.0px;" /></a>
<p>Like with the previous rectangle example we can also use the <cite>rotation</cite> parameter to set a clockwise rotation.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">glyph_A</span> <span class="o">=</span> <span class="n">tools</span><span class="o">.</span><span class="n">glyph</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">80</span><span class="p">),</span> <span class="n">rotation</span> <span class="o">=-</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">4</span><span class="p">)</span>
<span class="n">my_first_collection</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">glyph_A</span><span class="p">)</span>
<span class="n">my_first_collection</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">calibration</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/fig9.png"><img alt="../_images/fig9.png" src="../_images/fig9.png" style="width: 360.0px; height: 360.0px;" /></a>
</div>
<div class="section" id="text">
<h2><span class="section-number">1.5. </span>Text<a class="headerlink" href="#text" title="Permalink to this headline">¶</a></h2>
<p>Next to individual glyphs the <a class="reference internal" href="modules.html#lmd.tools.text" title="lmd.tools.text"><code class="xref py py-meth docutils literal notranslate"><span class="pre">text()</span></code></a> method can be used to write text with specified position, size and rotation.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">lmd.lib</span> <span class="kn">import</span> <span class="n">Collection</span><span class="p">,</span> <span class="n">Shape</span>
<span class="kn">from</span> <span class="nn">lmd</span> <span class="kn">import</span> <span class="n">tools</span>

<span class="n">calibration</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">],</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">50</span><span class="p">]])</span>
<span class="n">my_first_collection</span> <span class="o">=</span> <span class="n">Collection</span><span class="p">(</span><span class="n">calibration_points</span> <span class="o">=</span> <span class="n">calibration</span><span class="p">)</span>

<span class="n">identifier_1</span> <span class="o">=</span> <span class="n">tools</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="s1">&#39;0456_B2&#39;</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">]),</span> <span class="n">rotation</span> <span class="o">=</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">4</span><span class="p">)</span>
<span class="n">my_first_collection</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">identifier_1</span><span class="p">)</span>
<span class="n">my_first_collection</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">calibration</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/fig10.png"><img alt="../_images/fig10.png" src="../_images/fig10.png" style="width: 360.0px; height: 360.0px;" /></a>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="segmentation_loader.html" class="btn btn-neutral float-right" title="2. Using Segmented Images" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../index.html" class="btn btn-neutral float-left" title="Overview" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Georg Wallmann, Sophia Mädler and Niklas Schmacke.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>